{% extends "layouts/admin/base.html" %}

{% block pageTitle %}
  Payment overview
{% endblock %}

{% block content %}
<br>

  <div class="jui-width-container">
    <main role="main" class="govuk-main-wrapper">

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-half">

          <h1 class="govuk-heading-xl">Payment overview</h1>

        </div>
      </div>

                  <div class="govuk-grid-row">
                    <div class="govuk-grid-column-payment-one-quarter">

                      <h2 class="govuk-heading-l">Account</h2>

                      <h3 class="govuk-heading-m">PBA0241463<br>
                       <span class="govuk-caption-m">£20,000.00
                         <br>Credit  limit
                         <br>
                         <br>
                       <p class="govuk-body govuk-!-font-size-36 govuk-!-font-weight-bold">£2746.00 <span class="govuk-caption-m">Available to spend<br>As of<span id="balanceYesterday"></span></span></p>

                    </h3>





                    <br>

                    <ul class="govuk-list">
                    <li>

                      <a class="govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/statements">View statements</a>
                    </li>
                    <li>
                      <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/manage-account">Manage account</a>
                    </li>
                    <li>
                      <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/dummy">Add an account</a>
                    </li>
                  </ul>

                  <br>

            </div>

            <div class="govuk-grid-column-payment-one-quarter">

              <h2 class="govuk-heading-l">Account</h2>

              <h3 class="govuk-heading-m">PBA0241463<br>
               <span class="govuk-caption-m">£20,000.00
                 <br>Credit  limit
                 <br>
                 <br>
               <p class="govuk-body govuk-!-font-size-36 govuk-!-font-weight-bold">£2746.00 <span class="govuk-caption-m">Available to spend<br>As of<span id="balanceYesterday2"></span></span></p>

            </h3>

            <h3 class="govuk-heading-m">Outstanding balance<br>
              <p class="govuk-body govuk-!-font-size-24 govuk-!-font-weight-bold">£17,254.00<span class="govuk-caption-m">Next payment due <br> <span class="govuk-caption-m" id="nextPaymentDue"></span></span></p>
              <a href="make-payment" role="button" class="govuk-button">
              Make payment
            </a>
          </h3>



            <br>

            <ul class="govuk-list">
            <li>

              <a class="govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/statements">View statements</a>
            </li>
            <li>
              <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/manage-account">Manage account</a>
            </li>
            <li>
              <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/dummy">Add an account</a>
            </li>
          </ul>

          <br>

    </div>


              <div class="govuk-grid-column-payment-one-quarter">

                <h2 class="govuk-heading-l">Account</h2>

                <span class="govuk-caption-l">£20,000.00 limit</span>
                <h3 class="govuk-heading-l">PBA0241163<br>
                 <span class="govuk-caption-m" style="color: #000;">Credit account
                 </span>
                   </h3>




                   <span class="govuk-caption-l">Available balance</span>
                   <h3 class="govuk-heading-l">£2746.00 <span class="govuk-caption-m" style="color: #000;"> As of<span id="balanceYesterday3"></span></span>
                   </h3>


                 <span class="govuk-caption-l">Outstanding balance</span>
                 <h3 class="govuk-heading-l">£17,254.00<span class="govuk-caption-m" style="color: #000; padding-bottom: 10px;"> Next payment due <br> <span id="nextPaymentDue2"></span></span>
                   <a href="make-payment" role="button" class="govuk-button">
                   Make a payment
                 </a>
                 </h3>






              <!-- <h3 class="govuk-heading-l govuk-!-font-weight-regular"><a class="govuk-link govuk-!-font-size-19" href="/statements">Statement summary</a><br>
                <p class="govuk-body govuk-!-font-size-19 govuk-!-font-weight-bold">£17,254.00<span class="govuk-caption-m">Next payment due <br>4 Aug 2018</span></p>
                <button type="submit" class="govuk-button">
                Make payment
              </button>
            </h3> -->


              <br>

              <ul class="govuk-list">
              <li>

                <a class="govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/statements">View statements</a>
              </li>
              <li>
                <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/manage-account">Manage account</a>
              </li>
              <li>
                <a class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-!-font-weight-bold" href="/dummy">Add an account</a>
              </li>
            </ul>

            <br>

          </div>



      </div>
      <br>
      <br>
      <br>























    </main>
  </div>



{% endblock %}
{% block page_scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script>

$(function() {
  $('input[name="birthday"]').daterangepicker({
    singleDatePicker: true,
    showDropdowns: true,
    minYear: 1901,
    maxYear: parseInt(moment().format('YYYY'),10)
  }, function(start, end, label) {
    var years = moment().diff(start, 'years');
    // alert("You are " + years + " years old!");
  });

});

$(function() {

    var start = moment().subtract(29, 'days');
    var end = moment();

    function cb(start, end) {
        $('#reportrange span').html(start.format('DD MMM YYYY') + ' - ' + end.format('DD MMM YYYY'));
    }

    $('#reportrange').daterangepicker({
        startDate: start,
        endDate: end,
        ranges: {
          'Next 7 Days': [moment().add(6, 'days'), moment().add(1, 'days')],
          'Tomorrow': [moment().add(1, 'days'), moment().add(1, 'days')],
           'Today': [moment(), moment()],
           'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
           'Last 7 Days': [moment().subtract(6, 'days'), moment()],
           'Last 30 Days': [moment().subtract(29, 'days'), moment()],
           'This Month': [moment().startOf('month'), moment().endOf('month')],
           'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
        }
    }, cb);

    cb(start, end);

});

function myFunction() {
  // Declare variables
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("transactionstable");
  tr = table.getElementsByTagName("tr");

  // Loop through all table rows, and hide those who don't match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[1];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }
  }
}

  balanceYesterday();

  function balanceYesterday() {
    var dateField = document.getElementById('balanceYesterday');
    dateField.innerHTML = moment().subtract(1, 'days').format ('[ ]DD MMM YYYY');

    var dateField = document.getElementById('balanceYesterday2');
    dateField.innerHTML = moment().subtract(1, 'days').format ('[ ]DD MMM YYYY');

    var dateField = document.getElementById('balanceYesterday3');
    dateField.innerHTML = moment().subtract(1, 'days').format ('[ ]DD MMM YYYY');
  }

  nextPaymentDue();

  function nextPaymentDue() {
    var dateField = document.getElementById('nextPaymentDue');
    dateField.innerHTML = moment().add(1, 'months').format ('01 MMM YYYY');

    var dateField = document.getElementById('nextPaymentDue2');
    dateField.innerHTML = moment().add(1, 'months').format ('01 MMM YYYY');
  }


  paymentReferenceDates();

  function paymentReferenceDates() {
    var dateField = document.getElementById('pendingPayment');
    dateField.innerHTML = moment().format('DD MMM YYYY[—23:00:00]');

    var dateField = document.getElementById('1457Date');
    dateField.innerHTML = moment().subtract(1, 'days').format ('DD MMM YYYY[—12:31:27]');

    var dateField = document.getElementById('1515Date');
    dateField.innerHTML = moment().subtract(2, 'days').format ('DD MMM YYYY[—09:11:12]');

    var dateField = document.getElementById('8721Date');
    dateField.innerHTML = moment().subtract(3, 'days').format ('DD MMM YYYY[—16:01:45]');

    var dateField = document.getElementById('directDebitDate');
    dateField.innerHTML = moment().subtract(3, 'days').format ('DD MMM YYYY[—00:00:02]');

    var dateField = document.getElementById('1678Date');
    dateField.innerHTML = moment().subtract(4, 'days').format ('DD MMM YYYY[—11:43:33]');

    var dateField = document.getElementById('7832Date');
    dateField.innerHTML = moment().subtract(4, 'days').format ('DD MMM YYYY[—15:23:56]');

    var dateField = document.getElementById('8363Date');
    dateField.innerHTML = moment().subtract(5, 'days').format ('DD MMM YYYY[—10:20:05]');
  }



</script>


{% endblock %}
